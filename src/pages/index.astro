---
import Layout from "@layouts/Layout.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import Card from "@components/Card";
import { build } from "@utils/builder";

const posts = await build();
---

<Layout>
  <Header />
  <main id="main-content">
    <section id="posts">
      <ul>
        {
          posts.map(
            (post) =>
              (
                <Card
                  href={post.url}}
                  frontmatter={post}
                />
              )
          )
        }
      </ul>
    </section>
  </main>
  <Footer />
</Layout>
